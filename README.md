# EDA manufacturing project
***

## Project description

This project is to optimise a manufacturing machine process for a large industrial company. We extract data on to the local computer from an RDS database. The data is then cleaned, analysed and visualised. Conclusions are then drawn on how the manufacturing machine can be run with minimal failures.


## Installation instructions

Clone the github repostory by running the following command in a terminal.
```
git clone https://github.com/sgrayner/EDA-Manufacturing.git
```

## Python libraries

- numpy
- pandas
- scipy
- matplotlib
- plotly.express
- statsmodels
- sqlalchemy
- yaml

## Github repository structure

```
│   ├── EDA_process.ipynb
│   │── README.md
│   ├── data_analysis.py
│   ├── data_cleaning.py
│   │── db_utils.py
│   ├── failure_data.csv
```
<br>

## File information

- **README.md** contains project information and information on the variables, code and conclusions made within the project.
- **EDA_process.ipynb** will walk you through the exploratory data analysis process. Run the code blocks from the beginning to run the EDA process on the data.
- **db_utils.py** contains the functions for connecting to the RDS database and extracting the data.
- **data_cleaning.py** contains functions for transforming the data to prepare it for analysis.
- **data_analysis.py** contains functions for analysing and visualising the data to extract information.
- **failure_data.csv** contains the data.
<br>

### EDA notebook sections

- **Extracting and cleaning the data** - extracting the data, investigating column quality, cleaning the data.
- **Preparing the data** - investigating correlation, null value imputation, skew transformation, outlier detection, collinearity detection.
- **Analysing the data** - investigating operating ranges of the variables, visualising machine failures against explanatory variables.

## Data extraction

We extract the data from an RDS database:
```
conn = du.DatabaseConnector('credentials.yaml')
df = conn.read_rds_table(table='failure_data')
```
This dataframe has 10000 records and 14 columns:

- **UDI**: Unique identifier of the machining session.
- **Product ID**: Product specific serial number.
- **Type**: Quality of the product being created (L, M, or H, for low, medium and high quality products).
- **Air temperature [K]**: Average air temperature in the room during the process (in Kelvin).
- **Process temperature [K]**: Average air temperature the machine was operating at during production (in Kelvin).
- **Rotational speed [rpm]**: Average revolutions per minute the tool was operating at (in revolutions per minute).
- **Torque [Nm]**: Torque generated by the tool (in Newton meters).
- **Tool wear [min]**: The current minutes of wear on the tool. H, M and L product manufacturing cause 5/3/2 minutes of tool wear.
- **Machine failure**: Label that indicates, whether the machine failed this particular run.
- **TWF**: (tool wear failure) Failure in the process due to the tool wearing out.
- **HDF**: (heat dissipation failure) Lack of heat dissipation caused the process failure.
- **PWF**: (power failure): Failure in the process due to lack of power from the tool to complete processing.
- **OSF**: (overstrain failure) Failure due to the tool overstraining during the process.
- **RNF**: (random failures) Failures in the process which could not be categorised.
<br>

## Data transformation

*class RDSDatabaseConnector*
- **\_\_read_creds\_\_** - Reads and returns the credentials of the RDS database where the data is stored.
- **\_\_init_db_engine\_\_** - Initiates an SQL database engine.
- **read_rds_table** - Reads and returns data from the RDS database.
- **save_data** - Saves the data to the local machine.
- **load_data** - Loads and returns the data as a Pandas dataframe.

*class DataTransform*
- **cleaning** - Cleans the data.
- **impute_nulls** - Imputes null values.
- **remove_skew** - Removes significant skew from the data.
- **drop_outliers** - Removes outlier values from the data.

*class DataAnalysis*
- **ranges_table** - Returns maximum and minimum values of explanatory variables.
- **failure_over_column_range** - Plots a histogram of a given type of machine failure superimposed with a histogram of a given explanatory variable.
- **failure_plots** - Plots bar charts detailing information on machine failure types as well as failures of each product quality type.
<br>

## Analysis

## Results/findings

- Torque must be kept between 10 Nm and 42 Nm to prevent HDF, PWF and OSF
- Tool wear must be below 175 min to prevent TWF and OSF.
- Air temperature should be kept below 300 K to prevent HDF.
- Process temperature should be kept below 309.5 K to prevent HDF.
